<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 옵셔널 체이닝
    // property 가 없는 내부 객체에 접근할 때 오류가 발생하지 않음
    // (undefined 를 반환함)

    // let person = {address:{dong:'신림동'}};
    let person = { };
    // ex03.html:13 Uncaught TypeError: 
    // Cannot read properties of undefined (reading 'dong')
    // error 가 발생해서 program 이 비정상적으로 종료함
    // console.log(person.address.dong);

    // 비정상적으로 종료하지 않고 undefined 를 반환함
    // 1) ?. 앞에 나오는 값이 undefined 인 경우
    console.log(person?.address?.dong);

    // ?.     
    // ?. 앞에 나오는 값이 
    // undefined 나 null 이면 undefined 를 반환함
    // error 가 발생하지 않고 다음 code 를 실행함

    // 2) ?. 앞에 나오는 값이 null 인 경우
    let student = null;
    console.log(student?.address);
    console.log(student?.address?.dong);

    // person 과 student 는 선언되어 있음

    // let programmer = {};
    // Uncaught ReferenceError: programmer is not defined
    // ?. 앞의 변수는 반드시 선언되어 있어야 함
    // console.log(programmer?.address?.dong);

    let programmer = null;
    let number = 0;

    // ?. 앞에 있는 변수에 객체가 할당되어 있지 않으면
    // ?. 뒤에 있는 code 를 실행하지 않음
    // increase(number++) 이 부분은 실행하지 않음
    // number 는 1 증가하지 않음
    programmer?.increase(number++);
    console.log('number : ' + number);

    let test1 = {
      validAdmin(){
        console.log('관리자 권한입니다');
      }      
    }
    let test2 = {};

    test1.validAdmin();    
    // Uncaught TypeError: test2.validAdmin is not a function
    // test2 에는 validAdmin() 메소드를 정의하지 않았기 때문에
    // error 가 발생함
    // test2.validAdmin();

    // ?. 사용하면
    // error 가 발생하지 않고 실행이 안 됨
    test2.validAdmin?.();



    let student2 = {
      firstName : 'global'
    };

    let student3 = null;

    let key = "firstName";

    console.log(student2?.[key]);

    // Uncaught TypeError: Cannot read properties of null (reading 'firstName')
    // console.log(student3[key]);
    console.log(student3?.[key]);

    console.log(student2?.[key]?.lastName?.middleName);




  </script>
</body>
</html>