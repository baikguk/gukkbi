<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // Symbol
    let person = {
      name:'글로벌'
    }
    
    // Symbol 을 property 의 value 로 사용하는 경우
    let id = Symbol('id');

    person[id] = 1;
    
    console.log('person[id] : ' + person[id]);

    // 객체 리터럴을 사용해서 객체를 생성하는 경우,
    // 대괄호를 사용해서 Symbol 형 key 를 만듬
    id = Symbol('id');

    let student = {
      name : '글로벌',
      // 'id' 라고 하면 심볼 id 가 아니고 문자열 'id' 가 key 가 됨
      // 'id' : 1234
      // [] 를 사용해야 Symbol 을 key 로 할 수 있음
      [id] : 1234      
    }


    let number = Symbol('number');
    person = {
      name : '이순신',
      age : 46,
      [number] : 123
    };

    // for...in 반복문에서 key 가 Symbol 인 property 는 제외됨
    for(let key in person){
      console.log(key + " : " + person[key]);
    }

    // Symbol 로 직접 접근해야 확인할 수 있음
    console.log('Symbol 로 직접 접근함 : ' + person[number]);
    
    // . 을 사용하면 undefined 를 반환함
    console.log('Symbol 로 직접 접근함 : ' + person.number);

    

    // global scope(전역) 에서 생성된 Symbol 을
    // 전역 Symbol 이라고 함
    let programmer = Symbol('programmer');
    let user = {
      name : '이순신',
      age : 46,
      [programmer]:123
    };

    // Object.assign() : key 가 Symbol 인 property 도 복사함
    let userCopy = Object.assign({}, user);
    console.log('userCopy["name"]) : ' + userCopy["name"]);
    console.log('userCopy["age"]) : ' + userCopy["age"]);
    console.log('userCopy[programmer]) : ' + userCopy[programmer]);

    // 객체의 key 값만 반환하는 Object.keys() 는
    // key 가 Symbol 인 property 는 반환하지 않음
    console.log(Object.keys(user));

    // Symbol.for(key) : 이름이 key 인 Symbol 을 반환함
    let symbol1 = Symbol.for("programmer");
    let symbol2 = Symbol.for("programmer");
    console.log('symbol1 == symbol2 : ' + (symbol1 == symbol2));


    
    // 이름을 사용해서 Symbol 을 찾음
    let sym1 = Symbol.for('name1');
    let sym2 = Symbol.for('age1');

    // Symbol.keyFor(변수) [변수:Symbol을 할당받은 변수]
    // let study = Symbol('studying');
    // 변수에 할당된 Symbol 이름을 반환함    
    // Symbol 을 사용해서 Symbol 이름을 찾음
    console.log('Symbol.keyFor(sym1) : ' + Symbol.keyFor(sym1));
    console.log('Symbol.keyFor(sym2) : ' + Symbol.keyFor(sym2));


  </script>
</body>
</html>