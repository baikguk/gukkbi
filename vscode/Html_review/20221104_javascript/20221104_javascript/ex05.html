<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /*
      생성자 함수를 new 연산자 없이 호출하면
      new.target 의 값은 undefined 가 됨
        ㄴ undefined  를 boolean type 으로 변환하면 false 가 됨

      new 연산자를 사용해서 생성자 함수를 호출하면
      new.target 의 값은 해당 생성자 함수의 문자열이 됨
         ㄴ 문자열을 boolean type 으로 변환하면 true 가 됨

      ㄴ 이를 이용해서, 생성자 함수를 호출할 때
        new 를 사용해서 호출했는지 사용하지 않고 호출했는지 
        조건문으로 확인할 수 있음    

    function User(name){
      if(!new.target){  <-- 
        return new User(name);
      }
      this.name = name;
    }
    */

    function User(name){
      // console.log('new.target : ' + new.target);
      this.name = name;
      // return this;
    }   

    let u1 = new User('이순신');
    //let u2 = User('안중근');
    console.log(u1.name);
    //console.log(u2.name);

    function User2(name){
      if(!new.target){   
        return new User(name);
      }
      this.name = name;
    }

    function User2(name){
      if(!new.target){  
        return new User(name);
      }
      this.name = name;      
    }
    let u3 = new User2('유관순');
    let u4 = User2('강감찬');
    console.log(u3.name);
    console.log(u4.name);

    console.log("===========================");
    

    function Animal(){
      this.name = '강아지';

      // 생성자 함수에서 
      // 새로운 객체를 생성해서 반환하는 경우
      return {name : '고양이'};
    }
    // 반환받은 객체의 name(고양이) 을 출력함
    // 68 행을 삭제하면 64 행에서 정한 강아지를 출력함
    console.log(new Animal().name);

    let a1 = new Animal();
    let a2 = new Animal;



    function User3(name){
      this.name = name;
      this.printName = function(){
        console.log(`나의 이름은 ${this.name} 입니다`);
      };
    }
    let u5 = new User3('이율곡');
    u5.printName();

    u5 = {
      name:'이율곡',
      printName:function(){
        console.log(`나의 이름은 ${this.name} 입니다`);
      }
    }
    u5.printName();
  
    

  </script>
</body>
</html>