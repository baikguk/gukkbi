<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    //Symbol
    let person = {
      name: '글로벌'
    }

    //Symbol을  property의 value로 사용하는 경우
    let id = Symbol('idSymbol');

    person[id]  = 1;
    console.log('person[id] : '+person[id]);

    //객체 리터럴을 사용해서 객체를 생성하는 경우,
    // 대괄호를 사용해서 Symbol 형 key를 만듬
    id = Symbol('idSymbol');

    let student = {
      name : '글로벌',
      // 'id' 라고 하면 심볼 id가 아니고 문자열 'id' 인 key 가 됨
      // 'id' : 1234
      // []를 사용해야 Symbol을 key로 할 수 있음
      [id] : 1234
    }

    let number = Symbol('numberSymbol');
    person = {
      name : '이순신',
      age : 46,
      [number] :123
    };


    //for...in 반복문에서 key가 Symbol인 property는 제외됨
    for(let key in person){
      console.log(key + " : "+ person[key]);
    }

    //Symbol로 직접 접근해야 확인할 수 있음
    console.log('Symbol로 직접 접근함 : '+ person[number]);
    //.을 사용하면 undefine를 반환함
    console.log('Symbol로 직접 접근함 : '+ person.number);

    //global scope(전역) 에서 생성된 Symbol을 
    //전역 Symbol이라고 함
    let programmer = Symbol('programmeSymbol');
    let user={
      [programmer]:123,
      name : '이순신',
      age : 46
    };


    //Object.assign() key 가 Symbol인 property도 복사함
    let userCopy = Object.assign({}, user);
    console.log('userCopy[programmer] : '+userCopy[programmer]);
    console.log('userCopy[age] : '+userCopy["age"]);
    console.log('userCopy[name] : '+userCopy["name"]);

    // 객체의 key값만 반환하는 Object.keys()는
    // key가 Symbol인 property는 반환하지 않음
    console.log(Object.keys(user));

    //Symbol.for(key) : 이름이 key인 Symbol을 반환함
    let symbol1 = Symbol.for("programmer");
    let symbol2 = Symbol.for("programmer");
    console.log('symbol1 == symbol2 : '+(symbol1 == symbol2))

  
    //이름을 사용해서 Symbol을 찾음
    let sym1 = Symbol.for('name1');
    let sym2 = Symbol.for('age1')

    //Symbol.ketFor(변수) [변수 : Symbol을 할당받은 변수]
    // let study = Symbol('study')
    // 변수에 할당된 Symbol이름을 반환함
    // Symbol을 사용해서 Symbol 이름을 찾음
    console.log("Symbol.keyFor(sym1) : "+Symbol.keyFor(sym1));
    console.log("Symbol.keyFor(sym2) : "+Symbol.keyFor(sym2));
  </script>
</body>
</html>